{
  "content": "### 3.4 股價路徑模擬 (Price Path Simulation)：平行時空的投射\n在蒙地卡羅框架下，股價並非單一演化線段，而是無數可能路徑的集合。利用幾何布朗運動 (GBM) 的離散化形式，我們可以模擬出資產價格在未來時間軸上的分佈形態，這是計算路徑相依選擇權（如障礙期權）與預期敞口的物理基礎。\n\n#### 技術核心：GBM 離散迭代公式\n我們將時間區間 $T$ 切分為 $M$ 個微小步長 $\\Delta t = T/M$。根據解析解，資產價格在每一步的演化如下：\n\n$$\n  S_{t+\\Delta t} = S_t \\exp\\left( \\left( r - \\frac{1}{2}\\sigma^2 \\right)\\Delta t + \\sigma \\sqrt{\\Delta t} Z \\right)\n$$\n\n- **隨種子 $Z$**：必須服從標準正態分佈 $N(0, 1)$。每一期模擬必須保證 $Z$ 的獨立性。\n\n#### 決策矩陣：數值模擬方案選型\n資深分析師需在計算效率與理論精度間做出決策：\n\n| 方案 | 特點 | 適用場景 |\n| :--- | :--- | :--- |\n| **對數迭代 (Exact)** | 基於解析解，即使 $\\Delta t$ 較大也無系統誤差 | 歐式、亞式等大多數期權模擬 |\n| **歐拉近似 (Euler)** | $S_{t+1} = S_t(1 + r \\Delta t + \\sigma \\sqrt{\\Delta t} Z)$，簡單但有偏 | 當 SDE 非常複雜且無解析解時 |\n| **向量化矩陣法** | 使用 `np.cumsum` 一次性生成整條路徑 | **資深開發首選**：極大化執行效能 |\n\n> [!IMPORTANT]\n> 在生產端部署時（見 `B2_Ch3_4.py`），應預先生成所有步長的隨機矩陣 $\\mathbf{Z}_{N \\times M}$，然後透過累乘或對數累加完成運算。這種向量化思維能將 Python 的執行速度提升 100 倍以上。\n\n#### 3.4 資深從業人員行動清單 (Action Items)\n執行路徑模擬前，必須確認：\n- **離散化誤差稽核**：確保 $\\Delta t$ 足夠小以精確捕捉路障觸碰或平均價格變動。\n- **漂移項校準**：針對定價目的，必須將 $\\mu$ 替換為風險中性利率 $r$。\n- **收斂性驗證**：檢查隨機路徑的中位數與均值是否符合對數正態分佈的理論特性。"
}