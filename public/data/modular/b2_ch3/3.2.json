{
  "content": "### 3.2 定積分數值求解：將解析問題轉化為抽樣任務\n在風險計量中，許多預期損失（Expected Shortfall）或期權定價公式本質上是高維空間的定積分。蒙地卡羅法將積分問題轉化為在定義域內計算「函數平均高度」的問題。這在處理無解析解的複雜收益函數時極具威裝。\n\n#### 技術核心：隨機取樣積分法\n對於區間 $[a, b]$ 上的定積分 $\\int_a^b f(x) dx$，我們透過在該區間內產生均勻分佈隨機數 $x_i \\sim U(a, b)$ 來進行數值估算：\n\n$$\n  I \\approx (b - a) \\cdot \\frac{1}{N} \\sum_{i=1}^N f(x_i)\n$$\n\n#### 決策矩陣：數值積分演算法選型\n資深分析師需根據函數特性選擇最優算法：\n\n| 特性 | 蒙地卡羅積分 (MC) | 辛普森法 (Simpson's Rule) |\n| :--- | :--- | :--- |\n| **維度連鎖** | 支援極高維度 ($d > 3$) | 僅適用於低維連續函數 ($d \\le 2$) |\n| **誤差特徵** | 隨機性誤差，不穩定但收斂 | 系統性誤差，對平滑函數極其精準 |\n| **靈活性** | 可處理非連續或劇烈波助的函數 | 要求函數具備較高的階數連續性 |\n\n> [!IMPORTANT]\n> 在 **Python** 實作中（見 `B2_Ch3_2.py`），使用 `np.random.uniform` 生成大規模樣本點是構建數值積分器的標準起手式。資深開發者必須隨時檢查被積函數在邊界處是否存在奇異性 (Singularity)，這會導致蒙地卡羅估計值的方差發散。\n\n#### 3.2 資深從業人員行動清單 (Action Items)\n執行數值積分前，必須落實：\n- **定義域完整性校驗**：確保隨機抽樣範圍完整覆蓋積分區間，無邏輯死角。\n- **取樣密度評估**：針對振盪劇烈的函數，必須大幅提高取樣頻率或採用重要性抽樣 (Importance Sampling)。\n- **精度一致性測試**：透過與小規模解析近似解（若存在）進行比對，驗證數值積分器的基礎合法性。\n\n#### 核心技術結論\n蒙地卡羅積分是將「微積分問題」轉化為「統計問題」的關鍵步驟。它證明了對於現代風險管理而言，「抽樣」是比「求解」更具擴展性的生存策略。"
}