{
    "content": "### 5.3 歐式選擇權二元樹 (European Options)：逆向誘導定價法\n歐式選擇權的價值演化是一個典型的「逆向工程」。我們首先根據終端資產樹計算各節點的 Payoff，隨後利用風險中性機率一步步向當前時刻折現。這一過程體現了期權價值對未來期望損失與收益的動態定價。\n\n#### 技術核心：遞迴折現公式\n在任何一個中間節點 $t$，期權價值 $V_t$ 是其後繼兩個節點 $V_u$ 與 $V_d$ 的風險中性期望折現值：\n\n$$\n  V_t = e^{-r \\Delta t} [p V_u + (1-p) V_d]\n$$\n\n#### 決策矩陣：二元樹定價精度控管\n資深分析師需在計算成本與精度間進行決策：\n\n| 觀測項 | 表現特徵 | 優化策略 |\n| :--- | :--- | :--- |\n| **步數 $N$ 的影響** | 結果隨 $N$ 呈現鋸齒狀收斂 | 使用平均法（如 $N$ 與 $N+1$ 均值）或升級至泰勒展開修正 |\n| **計算邊界** | 記憶體消耗隨 $N^2$ 增長 | 採用單一向量更新法而非儲存整棵樹的節點 |\n| **希臘字母計算** | 透過初始節點的微小差異獲取 Delta/Gamma | 使用節點層級差分法以提升數值穩定性 |\n\n> [!IMPORTANT]\n> 在實作逆向遞迴時（見 `B2_Ch5_2.py`），資深分析師會使用「動態規劃」思維，僅保留當前層與下一層的數組。這在執行超大規模（如 $N=10,000$）的定價任務時，能將記憶體佔用降低幾個數量級。\n\n#### 5.3 資深從業人員行動清單 (Action Items)\n執行歐式定價前，必須確認：\n- **折現因子檢核**：確保 $\\Delta t$ 的單位（年、日）與利率 $r$ 的表達維度完全一致。\n- **終端節點邏輯**：嚴格檢查 $\\max(S_T - K, 0)$ 之類邊界函數的落實，防止行權判斷錯誤。\n- **解析解對標**：對標準歐式期權，必須與 BSM 公式結果核對，誤差應隨 $N$ 的增加而收斂至 $0$。"
}