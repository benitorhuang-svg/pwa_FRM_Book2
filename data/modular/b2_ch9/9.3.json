{
    "content": "### 9.3 信用風險資料分析與前處理：特徵工程的黃金準則\n信用數據通常具備高維、稀疏、且充滿離群值的特徵。資深從業人員將 70% 的建模精力投入到資料前處理中。透過**最佳分箱 (Optimal Binning)** 與 **WOE (Weight of Evidence)** 轉換，可以將雜亂的原始特徵轉化為具備單調解釋力且穩健的統計變量。\n\n#### 技術核心：最佳分箱與 WOE 轉換\n- **最佳分箱**：將連續變數離散化。資深從業人員追求的是「單調性」，即分箱後的違約率應隨變數值穩定上升或下降。\n- **WOE 定義**：衡量某分箱對違約標籤的解釋強度。\n\n$$\n  WOE_i = \\ln\\left( \\frac{\\%\\text{non\\_event}_i}{\\%\\text{event}_i} \\right)\n$$\n\n#### 專家決策矩陣：特徵篩選的 IV 標準\n使用資訊價值 (Information Value) 衡量特徵的預測強度：\n\n| IV 數值 | 預測強度評價 | 決策行動 |\n| :--- | :--- | :--- |\n| **$< 0.02$** | 幾乎無預測能力 | **剔除**：保留僅會增加模型噪音 |\n| **$0.02 \\sim 0.1$** | 較弱預測力 | 考慮作為組合特徵的一部分 |\n| **$0.1 \\sim 0.3$** | 中等預測力 | **優選**：模型的核心候選變數 |\n| **$> 0.5$** | 強力預測（或存在數據洩漏） | **警惕**：需檢查該特徵是否包含未來資訊 |\n\n> [!IMPORTANT]\n> 在 Python 實作中（見 `B2_Ch9_1.py`），資深開發者會使用自定義函數執行單調分箱。若自動分箱無法保證單調，必須手動合併分箱。失去單調性的特徵在金融合規審計（解釋性要求）中極難獲批。\n\n#### 9.3 資深從業人員行動清單 (Action Items)\n執行資料前處理時，必須確認：\n- **空值處理邏輯**：嚴禁盲目刪除缺失值，應檢查「缺失」本身是否包含信用信號（如不填寫收入的客戶通常風險更高）。\n- **異常值蓋帽處理**：對極端連續值進行 99% 分位數縮減，防止其對回歸係數產生不當影響。\n- **共線性排除**：在特徵池中，若兩個變數相關性 $> 0.7$，僅保留 IV 較高的一個。"
}