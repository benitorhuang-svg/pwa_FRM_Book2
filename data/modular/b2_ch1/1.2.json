{"content":"### 1.2 歷史波動性 (Historical Volatility)：風險的統計標尺\n波動性（Volatility）反映的是回報率的不確定性，是金融風險管理的靈魂指標。在標準統計框架下，我們將其定義為收益率序列的**樣本標準差**。資深從業人員必須將其視為計算風險價值（VaR）與期權定價的物理輸入。\n\n#### 專家定義：樣本標準差\n我們對日對數收益率序列 $r_t$ 計算其離散程度，嚴格定義如下：\n\n$$\n\\sigma_{sample} = \\sqrt{\\frac{1}{n-1} \\sum_{i=1}^n (r_i - \\bar{r})^2}\n$$\n\n#### 決策矩陣：估計窗口 (Look-back Windows) 選型\n觀測窗口的選擇直接決定了模型在靈敏度與穩健性之間的平衡：\n\n| 窗口長度 | 適用場景 | 優點 | 缺點 |\n| :--- | :--- | :--- | :--- |\n| **短期 (20-30天)** | 高頻交易、極端壓力測試 | 反應靈敏，能迅速捕捉市場劇震 | 存在高度隨機雜訊，數值不穩定 |\n| **長期 (1年/252天)** | 資本計提、戰略資產配置 | 數據穩健，反映產期風險特徵 | 存在幽靈效應 (Ghost Effect)，反應遲鈍 |\n\n#### 技術標準：年化與平方根定律 (Fixed)\n由於風險隨時間累積的速度與時間平方根成正比，標準化年化轉換是業界通用的物理準則：\n\n$$\n\n\\begin{aligned}\n  \\sigma_{annual} &= \\sigma_{daily} \\times \\sqrt{T_{trading}} \\\n                  &= \\sigma_{daily} \\times \\sqrt{252}\n\\end{aligned}\n$$\n\n> [!IMPORTANT]\n> 在 **Pandas** 實作中（見 `B2_Ch1_3.py`），使用 `.rolling(window=22).std()` 進行滾動窗口計算是標準流程。必須在「估計誤差」與「數據時效性」之間做出精確權衡，避免使用過時數據誤導當前的風險判斷。\n\n#### 1.2 資深從業人員行動清單 (Action Items)\n執行歷史波動率分析前，必須確認：\n- **數據一致性校驗**：確保價格序列已根據分紅與拆股進行調整（使用 Adjusted Close）。\n- **窗口匹配審計**：交易策略的持有期與波動率估計窗口必須具備邏輯一致性。\n- **年化標準化**：嚴格遵守 252 個交易日的轉換標準，禁止混淆日度與年度波動率維度。"}