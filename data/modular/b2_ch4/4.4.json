{
    "content": "### 4.4 邏輯回歸 (Logistic Regression)：違約機率的機率轉換\n在信用風險管理中，目標變量通常是二元的（違約或不違約）。線性回歸在此類場景下會導致預測機率超出 $[0, 1]$ 範圍。**邏輯回歸**透過應用 Sigmoid 函數，將線性輸出轉換為嚴格的機率值，是構建信用評分模型 (Credit Scoring) 的工業基石。\n\n#### 專家定義：對數機率 (Log-Odds) 轉換\n邏輯回歸透過對機率 $p$ 進行對數勝算比轉換，將分類問題重新定義為線性關係：\n\n$$\n  \\ln\\left( \\frac{p}{1-p} \\right) = \\beta_0 + \\sum \\beta_i x_i\n$$\n\n對應的機率預測公式（Sigmoid 函數）如下：\n\n$$\n  p = \\frac{1}{1 + e^{-(\\beta_0 + \\sum \\beta_i x_i)}}\n$$\n\n#### 決策矩陣：邏輯回歸 vs. 決策樹 (XGBoost)\n資深從業人員必須平衡模型的可解釋性與預測性能：\n\n| 特度維度 | 邏輯回歸 (Logistic) | 梯度提升樹 (XGBoost) |\n| :--- | :--- | :--- |\n| **可解釋性** | **極高**：係數直接代表特徵對違約勝算的影響 | 較低：黑盒模型，需依賴 SHAP 值解釋 |\n| **非線性處理** | 弱：需手動構建交叉項 | 強：自動捕捉複雜的非線性特徵交互 |\n| **合規性要求** | **首選**：符合巴塞爾協議對信用透明度的要求 | 需經過額外的可解釋性審查才能上線 |\n| **計算速度** | 極快 | 較慢，需大量算力進行迭代 |\n\n> [!IMPORTANT]\n> 在生產端部署信用評分模型時（見 `B2_Ch4_6.py`），資深開發者會使用 `confusion_matrix` 進行模型診斷。必須特別監控「偽陰性 (False Negative)」，即模型預測不違約但最終違約的情況。在貸前審查中，偽陰性的代價遠高於偽陽性。\n\n#### 4.4 資深從業人員行動清單 (Action Items)\n執行邏輯回歸建模前，必須確認：\n- **數據平衡處理**：若違約樣本過少，需使用 SMOTE 或類別權重調整 (Class Weight) 以避免模型偏見。\n- **特徵工程審計**：對類別型變數進行 One-Hot 編碼，並剔除共線性過高的財務指標。\n- **機率臨界值校準**：不應盲目使用預設的 0.5 作为判定閾值，需根據銀行風險偏好調整選取最優的 Cut-off 值。"
}